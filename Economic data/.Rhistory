#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
#data1[i] <- as.numeric(data1[i])
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
library(data.table)
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final1 <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final2 <- setDT(final1)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
View(final2)
View(final2)
for (i in c("Sum","Mean","Std_Dev")) {
data1$NTL_[i] <- as.numeric(data1$NTL_[i])
}
View(data1)
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
#data1[i] <- as.numeric(data1[i])
for (i in c("Sum","Mean","Std_Dev")) {
data1$NTL_[i] <- as.numeric(data1$NTL_[i])
}
summary(data1)
for (i in c("NTL_Sum","NTL_Mean","NTL_Std_Dev")) {
data1$[i] <- as.numeric(data1[i])
}
for (i in c("NTL_Sum","NTL_Mean","NTL_Std_Dev")) {
data1[i] <- as.numeric(data1[i])
}
for (i in c("NTL_Sum","NTL_Mean","NTL_Std_Dev")) {
data1[i] <- as.numeric(data1[i])}
for (i in c("NTL_Sum","NTL_Mean","NTL_Std_Dev")) {
data1[i] <- as.numeric(data1[i])}
data[i]
for (i in c("NTL_Sum","NTL_Mean","NTL_Std_Dev")) {
data1[,i] <- as.numeric(data1[,i])}
summary(data1)
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
#data1[i] <- as.numeric(data1[i])
library(data.table)
for (i in c("NTL_Sum","NTL_Mean","NTL_Std_Dev")) {
data1[,i] <- as.numeric(data1[,i])
data1 <- setDT(data1)[, [i]:=mean([i]), by=.(Year,District_Name)] []
}
summary(data1)
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
#data1[i] <- as.numeric(data1[i])
library(data.table)
for (i in c("NTL_Sum","NTL_Mean","NTL_Std_Dev")) {
data1[,i] <- as.numeric(data1[,i])
data1 <- setDT(data1)[, [i]:=mean([i]), by=.(Year,District_Name)] []}
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
#data1[i] <- as.numeric(data1[i])
library(data.table)
for (i in c("NTL_Sum","NTL_Mean","NTL_Std_Dev")) {
data1[,i] <- as.numeric(data1[,i])
data1 <- setDT(data1)[,i:=mean(i), by=.(Year,District_Name)] []}
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
View(data1)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1[i] <- as.numeric(data1[i])
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1[i] <- as.numeric(data1[i])
final <- setDT(data1)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
View(final)
summary(data1)
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1[i] <- as.numeric(data1[i])
library(data.table)
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
warnings()
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
data1[i] <- as.numeric(data1[i])
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
library(data.table)
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
View(final)
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1[i] <- as.numeric(data1[i])
library(data.table)
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"
data1[i] <- as.numeric(data1[i])}
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"
data1[i] <- as.numeric(data1[i])}
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
View(final)
View(final)
final[order(final$NTL_Sum1),]
View(final)
final <- final[order(final$NTL_Sum1),]
View(final)
final[1:10,'NTL_Mean']
final[1:6,'NTL_Mean']
final[500:506,'NTL_Mean']
final[800:808,'NTL_Mean']
final[100:108,'NTL_Mean1']
final[400:408,'NTL_Mean1']
final['NTL_Mean1' = 'NTL_Mean1'[n-1],'NTL_Mean1'] <- NA
final['NTL_Mean1' = 'NTL_Mean1'[-1],'NTL_Mean1'] <- NA
final['NTL_Mean1' = 'NTL_Mean1'[[-1]],'NTL_Mean1'] <- NA
final['NTL_Mean1' = 'NTL_Mean1'[row()-1],'NTL_Mean1'] <- NA
final['NTL_Mean1' = 'NTL_Mean1'[row(-1)],'NTL_Mean1'] <- NA
final['NTL_Mean1' == 'NTL_Mean1'[row(-1)],'NTL_Mean1'] <- NA
final['NTL_Mean1' == 'NTL_Mean1'[-1],'NTL_Mean1'] <- NA
final[400:408,'NTL_Mean1']
final['NTL_Mean1' == 'NTL_Mean1'[n-1],'NTL_Mean1'] <- NA
final['NTL_Mean1' == 'NTL_Mean1'[row()-1],'NTL_Mean1'] <- NA
final['NTL_Mean1' == 'NTL_Mean1'[row(n)-1],'NTL_Mean1'] <- NA
final['NTL_Mean1' == 'NTL_Mean1'[row()-1],'NTL_Mean1'] <- NA
final['NTL_Mean1' == 'NTL_Mean1'[row()-1],'NTL_Mean1'] <- NA
final['NTL_Mean1' == 'NTL_Mean1'[-1],'NTL_Mean1'] <- NA
final[400:408,'NTL_Mean1']
final['NTL_Mean1' == 'NTL_Mean1'[-1,],'NTL_Mean1'] <- NA
final[400:408,'NTL_Sum1']
final$NTL_Sum1[duplicated(final$NTL_Sum1)] <- NA
final[400:408,'NTL_Sum1']
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- final[order(final$NTL_Sum1),]
final$NTL_Sum1[duplicated(final$NTL_Sum1)] <- NA
final$NTL_Mean1[duplicated(final$NTL_Mean1)] <- NA
final$NTL_Std_Dev1[duplicated(final$NTL_Std_Dev1)] <- NA
final$NTL_Sum1[duplicated(final$NTL_Sum1,by=c("District","Year"))] <- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- final[order(final$NTL_Sum1),]
final$NTL_Sum1[duplicated(final$NTL_Sum1,by=c("District","Year"))] <- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- final[order(final$NTL_Sum1),]
final$NTL_Sum1[duplicated(final$NTL_Sum1,by=c("District","Year","NTL_Sum1"))] <- NA
final$NTL_Sum1[duplicated(final$NTL_Sum1 > 0,by=c("District","Year"))] <- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- final[order(final$NTL_Sum1),]
final$NTL_Sum1[duplicated(final$NTL_Sum1 > 0,by=c("District","Year"))] <- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- final[order(final$NTL_Sum1),]
final$NTL_Sum1[duplicated(c("District","Year"))] <- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- final[order(final$NTL_Sum1),]
final$NTL_Sum1[duplicated(final$NTL_Sum1, by=c("District","Year"),fromLast=TRUE)] <- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- final[order(final$NTL_Sum1),]
final$NTL_Sum1[duplicated(final$NTL_Sum1, by=c("District_Census_ID","Year"))] <- NA
final <- final[order(final$District_Census_ID,final$Year),]
final$NTL_Sum1[duplicated(final$NTL_Sum1, by=c("District_Census_ID","Year"))] <- NA
final <- final[order(final$State_Census_Cd,final$District_Census_ID,final$Year),]
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final <- final[order(final$State_Census_Cd,final$District_Census_ID,final$Year),]
#df[!duplicated(df[,c('x1', 'x2')]),]
final$NTL_Sum1[duplicated(final$NTL_Sum1, by=c("District_Census_ID","Year"))] <- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
#sorted on State ID, District ID and then Year
final <- final[order(final$State_Census_Cd,final$District_Census_ID,final$Year),]
#df[!duplicated(df[,c('x1', 'x2')]),]
final$NTL_Sum1[duplicated(final$NTL_Sum1, by=c("State_Census_Cd","District_Census_ID","Year"))] <- NA
temp <- duplicated(final$NTL_Sum1, by=c("State_Census_Cd","District_Census_ID","Year")
temp <- duplicated(final$NTL_Sum1, by=c("State_Census_Cd","District_Census_ID","Year"))
temp <- duplicated(final$NTL_Sum1, by=c("State_Census_Cd","District_Census_ID","Year"))
View(temp)
temp <- data.frame(duplicated(final$NTL_Sum1, by=c("State_Census_Cd","District_Census_ID","Year")))
final$temp <- data.frame(duplicated(final$NTL_Sum1, by=c("State_Census_Cd","District_Census_ID","Year")))
final$temp <- data.frame(duplicated("State_Census_Cd","District_Census_ID","Year"))
final$temp <- data.frame(duplicated(c("State_Census_Cd","District_Census_ID","Year")))
duplicated(final[c('State_Census_Cd','District_Census_ID','Year')])
duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])
final$temp <- duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])
final$NTL_Sum1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
#sorted on State ID, District ID and then Year
final <- final[order(final$State_Census_Cd,final$District_Census_ID,final$Year),]
#df[!duplicated(df[,c('x1', 'x2')]),]
final$NTL_Sum1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
#sorted on State ID, District ID and then Year
final <- final[order(final$State_Census_Cd,final$District_Census_ID,final$Year),]
#df[!duplicated(df[,c('x1', 'x2')]),]
final$NTL_Sum1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
final$NTL_Mean1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
final$NTL_Std_Dev1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
#sorted on State ID, District ID and then Year
final <- final[order(final$State_Census_Cd,final$District_Census_ID,final$Year),]
final$NTL_Sum1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
final$NTL_Mean1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
final$NTL_Std_Dev1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
#ggplot2
library(ggplot2)
library(reshape2)
#ggplot(data=data1, aes(data1$NR_Mean)) + stat_density(kernel = "gaussian")
long <- melt(final, id.vars =c("District_Name","Year"), measure.vars=c("NR_Sum","NRD_Sum","Rad_Sum","VIIRS_Sum","NTL_Sum1"))
long$value <- as.numeric(long$value)
long$Year <- as.numeric(long$Year)
View(long)
long <- melt(final, id.vars =c("District_Name","Year"), measure.vars=c("NR_Sum","NRD_Sum","Rad_Sum","VIIRS_Sum","NTL_Sum1"))
data1$NTL_Mean1 <- as.numeric(data1$NTL_Mean1)
data1$NTL_Sum1 <- as.numeric(data1$NTL_Sum1)
data1$NTL_Std_Dev1 <- as.numeric(data1$NTL_Std_Dev1)
long <- melt(final, id.vars =c("District_Name","Year"), measure.vars=c("NR_Sum","NRD_Sum","Rad_Sum","VIIRS_Sum","NTL_Sum1"))
long$value <- as.numeric(long$value)
long$Year <- as.numeric(long$Year)
final$NTL_Mean1 <- as.numeric(final$NTL_Mean1)
final$NTL_Sum1 <- as.numeric(final$NTL_Sum1)
final$NTL_Std_Dev1 <- as.numeric(final$NTL_Std_Dev1)
long <- melt(final, id.vars =c("District_Name","Year"), measure.vars=c("NR_Sum","NRD_Sum","Rad_Sum","VIIRS_Sum","NTL_Sum1"))
#clear the environment
rm(list=ls())
#import luminosity data
data1 <- read.csv("/Users/chandrani/Dropbox/City GDP KB.CS/Zonal Stat for Luminosity & Intercalibrated Dataset for District Shape file with 641 records.csv", stringsAsFactors = FALSE)
for (i in names(data1)) {
data1[i][data1[i]=="#N/A"] <- "NA"}
#variable NRD_Light_pixcel_percentage has a % that needs to be removed
#convert relevant character variables into numeric
data1$NTL_Mean <- as.numeric(data1$NTL_Mean)
data1$NTL_Sum <- as.numeric(data1$NTL_Sum)
data1$NTL_Std_Dev <- as.numeric(data1$NTL_Std_Dev)
library(data.table)
#Take mean only for NTL and not other datasets  list(V1=mean(V1), V2=mean(V2), V3=mean(V3))
final <- setDT(data1)[, NTL_Sum1:=mean(NTL_Sum), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Std_Dev1:=mean(NTL_Std_Dev), by=.(Year,District_Name)] []
final <- setDT(final)[, NTL_Mean1:=mean(NTL_Mean), by=.(Year,District_Name)] []
final$NTL_Mean1 <- as.numeric(final$NTL_Mean1)
final$NTL_Sum1 <- as.numeric(final$NTL_Sum1)
final$NTL_Std_Dev1 <- as.numeric(final$NTL_Std_Dev1)
#sorted on State ID, District ID and then Year
final <- final[order(final$State_Census_Cd,final$District_Census_ID,final$Year),]
final$NTL_Sum1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
final$NTL_Mean1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
final$NTL_Std_Dev1[duplicated(final[,c('State_Census_Cd','District_Census_ID','Year')])]<- NA
#ggplot2
library(ggplot2)
library(reshape2)
#ggplot(data=data1, aes(data1$NR_Mean)) + stat_density(kernel = "gaussian")
long <- melt(final, id.vars =c("District_Name","Year"), measure.vars=c("NR_Sum","NRD_Sum","Rad_Sum","VIIRS_Sum","NTL_Sum1"))
View(long)
long$value <- as.numeric(long$value)
long$Year <- as.numeric(long$Year)
ggplot(long[long$Year==2012,], aes(log(value), colour = variable)) + geom_density() + labs(x="Log(Value)",y="Density") + xlim(-10, 20) + ylim(0,2.5)
ggsave(file="b.png")
